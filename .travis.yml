# see http://about.travis-ci.org/docs/user/languages/php/ for more hints

language: php

php:
  - 5.5
  - 5.6
  - 7.0
  - hhvm

matrix:
  allow_failures:
    - php: 7.0
    - php: hhvm

before_script:
  - if [[ "$DB" == "pgsql" ]]; then psql -c "DROP DATABASE IF EXISTS hello_world_test;" -U postgres; fi
  - if [[ "$DB" == "pgsql" ]]; then psql -c "create database hello_world_test;" -U postgres; fi
  - if [[ "$DB" == "mysql" ]]; then mysql -e "create database IF NOT EXISTS hello_world_test;" -uroot; fi

script:
  - ./_checks/php.sh
  - php _checks/json.php

notifications:
  email:
    recipients:
      - lewisgoddard@eustasy.org
    on_success: always
    on_failure: always
